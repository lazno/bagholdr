{
  "_comment": "Synthetic test data for golden source holdings test. Tests all edge cases without real portfolio data.",
  "orders": [
    {
      "_case": "Simple buy - single purchase",
      "assetIsin": "TEST000000001",
      "orderDate": "2024-01-15T00:00:00.000Z",
      "quantity": 100,
      "totalEur": 1000,
      "totalNative": 1000
    },
    {
      "_case": "Multiple buys - first buy at €10",
      "assetIsin": "TEST000000002",
      "orderDate": "2024-01-01T00:00:00.000Z",
      "quantity": 100,
      "totalEur": 1000,
      "totalNative": 1000
    },
    {
      "_case": "Multiple buys - second buy at €14 (avg becomes €11.33)",
      "assetIsin": "TEST000000002",
      "orderDate": "2024-01-15T00:00:00.000Z",
      "quantity": 50,
      "totalEur": 700,
      "totalNative": 700
    },
    {
      "_case": "Partial sell - sell 75 at avg cost €11.33, cost reduction = €850",
      "assetIsin": "TEST000000002",
      "orderDate": "2024-02-01T00:00:00.000Z",
      "quantity": -75,
      "totalEur": 900,
      "totalNative": 900
    },
    {
      "_case": "Commission - adds to cost basis without changing qty",
      "assetIsin": "TEST000000003",
      "orderDate": "2024-01-10T00:00:00.000Z",
      "quantity": 50,
      "totalEur": 500,
      "totalNative": 500
    },
    {
      "_case": "Commission - €5 fee",
      "assetIsin": "TEST000000003",
      "orderDate": "2024-01-10T00:00:00.000Z",
      "quantity": 0,
      "totalEur": 5,
      "totalNative": 5
    },
    {
      "_case": "Fully sold - buy",
      "assetIsin": "TEST000000004",
      "orderDate": "2024-01-05T00:00:00.000Z",
      "quantity": 200,
      "totalEur": 2000,
      "totalNative": 2000
    },
    {
      "_case": "Fully sold - sell all (should not appear in holdings)",
      "assetIsin": "TEST000000004",
      "orderDate": "2024-02-15T00:00:00.000Z",
      "quantity": -200,
      "totalEur": 2400,
      "totalNative": 2400
    },
    {
      "_case": "Multi-currency USD - buy in USD",
      "assetIsin": "TEST000000005",
      "orderDate": "2024-01-20T00:00:00.000Z",
      "quantity": 25,
      "totalEur": 450,
      "totalNative": 500
    },
    {
      "_case": "Out of order - later date first (tests chronological sorting)",
      "assetIsin": "TEST000000006",
      "orderDate": "2024-03-01T00:00:00.000Z",
      "quantity": -30,
      "totalEur": 360,
      "totalNative": 360
    },
    {
      "_case": "Out of order - earlier date second",
      "assetIsin": "TEST000000006",
      "orderDate": "2024-01-01T00:00:00.000Z",
      "quantity": 100,
      "totalEur": 1000,
      "totalNative": 1000
    },
    {
      "_case": "Complex scenario - buy 1",
      "assetIsin": "TEST000000007",
      "orderDate": "2024-01-01T00:00:00.000Z",
      "quantity": 200,
      "totalEur": 4000,
      "totalNative": 4000
    },
    {
      "_case": "Complex scenario - commission",
      "assetIsin": "TEST000000007",
      "orderDate": "2024-01-01T00:00:00.000Z",
      "quantity": 0,
      "totalEur": 10,
      "totalNative": 10
    },
    {
      "_case": "Complex scenario - buy 2 at higher price",
      "assetIsin": "TEST000000007",
      "orderDate": "2024-02-01T00:00:00.000Z",
      "quantity": 100,
      "totalEur": 2500,
      "totalNative": 2500
    },
    {
      "_case": "Complex scenario - partial sell",
      "assetIsin": "TEST000000007",
      "orderDate": "2024-03-01T00:00:00.000Z",
      "quantity": -150,
      "totalEur": 4000,
      "totalNative": 4000
    },
    {
      "_case": "Complex scenario - another commission",
      "assetIsin": "TEST000000007",
      "orderDate": "2024-03-01T00:00:00.000Z",
      "quantity": 0,
      "totalEur": 8,
      "totalNative": 8
    }
  ],
  "expectedHoldings": [
    {
      "_case": "Simple buy",
      "assetIsin": "TEST000000001",
      "quantity": 100,
      "totalCostEur": 1000
    },
    {
      "_case": "Multiple buys + partial sell: qty=75, cost=850 (1700 - 75*11.33)",
      "assetIsin": "TEST000000002",
      "quantity": 75,
      "totalCostEur": 850
    },
    {
      "_case": "Buy + commission: qty=50, cost=505",
      "assetIsin": "TEST000000003",
      "quantity": 50,
      "totalCostEur": 505
    },
    {
      "_case": "Multi-currency: qty=25, costEur=450, costNative=500",
      "assetIsin": "TEST000000005",
      "quantity": 25,
      "totalCostEur": 450
    },
    {
      "_case": "Out of order input: qty=70, cost=700 (100-30=70, 1000*0.7=700)",
      "assetIsin": "TEST000000006",
      "quantity": 70,
      "totalCostEur": 700
    },
    {
      "_case": "Complex: qty=150, cost=3263",
      "assetIsin": "TEST000000007",
      "quantity": 150,
      "totalCostEur": 3263
    }
  ],
  "_calculations": {
    "TEST000000002": "Buy 100@€10=€1000, Buy 50@€14=€700 → qty=150, cost=€1700, avg=€11.333. Sell 75 → reduce by 75×11.333=€850 → qty=75, cost=€850",
    "TEST000000004": "Buy 200, Sell 200 → qty=0, excluded from holdings",
    "TEST000000006": "Orders out of chronological order in input, but sorted before processing. Buy 100@€10=€1000, Sell 30 → reduce by 30×10=€300 → qty=70, cost=€700",
    "TEST000000007": "Buy 200@€20=€4000 +€10 comm → cost=€4010, qty=200. Buy 100@€25=€2500 → cost=€6510, qty=300, avg=€21.70. Sell 150 → reduce by 150×21.70=€3255 → cost=€3255, qty=150. +€8 comm → cost=€3263"
  }
}
